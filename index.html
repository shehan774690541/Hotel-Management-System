<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Modern Hotel</title>
    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Font Awesome CSS -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap Datepicker CSS -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap Datetimepicker CSS -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        background-color: #f8f9fa;
        font-family: "Arial", sans-serif;
      }
      .navbar {
        background-color: #1a2a44;
        padding: 1rem;
      }
      .navbar-brand,
      .nav-link {
        color: #ffffff !important;
        font-weight: 500;
      }
      .nav-link:hover {
        color: #ffd700 !important;
      }
      .hero-section {
        position: relative;
        background: url("images/hero-wall.jpg") no-repeat center center;
        background-size: cover;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #ffffff;
        text-align: center;
      }

      .hero-section::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 0;
      }

      .hero-section > * {
        position: relative;
        z-index: 1;
      }
      .card {
        border: none;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Example shadow */
        transition: transform 0.3s;
      }
      .card:hover {
        transform: translateY(-5px);
      }
      .card-img-top {
        height: 200px;
        object-fit: cover;
      }
      .btn-book {
        background-color: #1a2a44;
        color: #ffffff;
        border-radius: 25px;
        padding: 10px 20px;
      }
      .btn-book:hover {
        background-color: #ffd700;
        color: #1a2a44;
      }
      .modal-content {
        border-radius: 15px;
        padding: 20px;
      }
      .form-control,
      .form-select {
        border-radius: 10px;
      }
      .datetimepicker {
        width: 100%;
      }
    </style>
  </head>
  <body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg">
      <div class="container">
        <a class="navbar-brand" href="#"
          ><i class="fas fa-hotel me-2"></i>Modern Hotel</a
        >
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="#home">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#booking">Booking</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="admin.html">Admin</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Home Section -->
    <section id="home" class="hero-section">
      <div>
        <h1>Welcome to Modern Hotel</h1>
        <p class="lead">
          Experience luxury and comfort in the heart of the city
        </p>
        <a href="#booking" class="btn btn-book">Book Now</a>
      </div>
    </section>

    <!-- Booking Section -->
    <section id="booking" class="container my-5">
      <h2 class="text-center mb-4">Our Rooms</h2>
      <div class="row" id="roomCards">
        <!-- Room cards will be dynamically added here -->
      </div>
    </section>

    <!-- Booking Modal -->
    <div
      class="modal fade"
      id="bookingModal"
      tabindex="-1"
      aria-labelledby="bookingModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="bookingModalLabel">Book Room</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form id="bookingForm">
              <div class="mb-3">
                <label for="name" class="form-label">Name</label>
                <input type="text" class="form-control" id="name" required />
              </div>
              <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" id="email" required />
              </div>
              <div class="mb-3">
                <label for="mobile" class="form-label">Mobile</label>
                <input type="tel" class="form-control" id="mobile" required />
              </div>
              <div class="mb-3">
                <label for="roomNo" class="form-label">Room Number</label>
                <input
                  type="number"
                  class="form-control"
                  id="roomNo"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="checkIn" class="form-label"
                  >Check-In Date & Time</label
                >
                <input
                  type="text"
                  class="form-control datetimepicker"
                  id="checkIn"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="checkOut" class="form-label"
                  >Check-Out Date & Time</label
                >
                <input
                  type="text"
                  class="form-control datetimepicker"
                  id="checkOut"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="type" class="form-label">Room Type</label>
                <select class="form-select" id="type" required>
                  <option value="single">Single</option>
                  <option value="double">Double</option>
                  <option value="suite">Suite</option>
                </select>
              </div>
              <button type="submit" class="btn btn-book w-100">
                Submit Booking
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Moment.js for datetimepicker -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
    <!-- Bootstrap Datetimepicker JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>
    <script>
      // Sample room data
      const rooms = [
        {
          roomId: 4,
          available: "available",
          price: 150,
          type: "Double",
          action: "j",
        },
        {
          roomId: 5,
          available: "available",
          price: 150,
          type: "Double",
          action: "j",
        },
        {
          roomId: 6,
          available: "available",
          price: 150,
          type: "Double",
          action: "j",
        },
      ];

      function logRandomElement() {
        const arr = [
          "rand1.jpg",
          "rand2.jpg",
          "rand3.jpg",
          "rand4.jpg",
          "rand5.jpg",
        ];
        if (!arr || arr.length === 0) {
          console.log("The array is empty or invalid.");
          return;
        }
        const randomIndex = Math.floor(Math.random() * arr.length);
        const randomElement = arr[randomIndex];
        return randomElement;
      }

      const roomCardsContainer = document.getElementById("roomCards");
      rooms.forEach((room) => {
        const card = `
                <div class="col-md-4 mb-4">
                    <div class="card">
                        <img src="images/${logRandomElement()}" class="card-img-top" alt="Room ${
          room.roomId
        }">
                        <div class="card-body">
                            <h5 class="card-title">Room ${room.roomId} - ${
          room.type
        }</h5>
                            <p class="card-text">Price: $${room.price}/night</p>
                            <p class="card-text">Status: ${room.available}</p>
                            <button class="btn btn-book" onclick="openBookingModal(${
                              room.roomId
                            })">Book Now</button>
                        </div>
                    </div>
                </div>
            `;
        roomCardsContainer.innerHTML += card;
      });

      // Initialize datetimepickers
      $("#checkIn, #checkOut").datetimepicker({
        format: "YYYY-MM-DD HH:mm",
        sideBySide: true,
        minDate: moment(),
        useCurrent: false,
      });

      // Ensure check-out is after check-in
      $("#checkIn").on("dp.change", function (e) {
        $("#checkOut").datetimepicker("minDate", e.date);
      });

      // Open booking modal and prefill room number
      function openBookingModal(roomId) {
        $("#roomNo").val(roomId);
        $("#bookingModal").modal("show");
      }

      // Handle form submission
      $("#bookingForm").on("submit", function (e) {
        e.preventDefault();
        const bookingData = {
          name: $("#name").val(),
          email: $("#email").val(),
          mobile: $("#mobile").val(),
          roomNo: $("#roomNo").val(),
          checkIn: $("#checkIn").val(),
          checkOut: $("#checkOut").val(),
          type: $("#type").val(),
        };
        console.log("Booking Data:", bookingData);
        $("#bookingModal").modal("hide");
        alert("Booking submitted successfully!");
      });
    </script>
  </body>
</html>
